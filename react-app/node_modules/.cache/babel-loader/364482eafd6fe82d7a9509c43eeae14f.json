{"ast":null,"code":"var _jsxFileName = \"/Users/guenuk/Documents/GitHub/CSE_316_Final_Project_Client/react-app/src/components/SignUp.js\",\n    _s = $RefreshSig$();\n\nimport react, { useEffect, useState } from \"react\";\nimport React from \"react\";\nimport { registerUserAPIMethod, uploadImageToCloudinaryAPIMethod } from \"../api/client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction SignUp(props) {\n  _s();\n\n  const [name, setName] = useState();\n  const [email, setEmail] = useState();\n  const [pw, setPw] = useState();\n  const [addr1, setAddr1] = useState();\n  const [addr2, setAddr2] = useState();\n  const [profileUrl, setProfileUrl] = useState(\"\");\n  const [error, setError] = useState();\n  useEffect(() => {\n    setError(error);\n  }, [error]);\n\n  const testRegister = e => {\n    e.preventDefault();\n\n    if (/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/.test(email)) {\n      // email validation\n      const user1 = {\n        \"name\": name,\n        \"email\": email,\n        \"password\": pw,\n        \"address1\": addr1,\n        \"address2\": addr2,\n        \"profile_url\": profileUrl\n      };\n      registerUserAPIMethod(user1).then(ret => {\n        console.log(ret);\n\n        if (ret) {\n          props.setShowSignup(false);\n          props.setLogin(true);\n        } else {\n          setError(\"Invalid information. Properly fill out the information\");\n        }\n      });\n    } else {\n      setError(\"Invalid email format\");\n    }\n  };\n\n  let handleChange = prop => event => {\n    if (prop === \"name\") {\n      setName(event.target.value);\n    } else if (prop === \"email\") {\n      setEmail(event.target.value);\n    } else if (prop === \"pw\") {\n      setPw(event.target.value);\n    } else if (prop === \"addr1\") {\n      setAddr1(event.target.value);\n    } else if (prop === \"addr2\") {\n      setAddr2(event.target.value);\n    } else if (prop === \"profileUrl\") {\n      if (event.target.files && event.target.files[0]) {\n        const selectedFile = event.target.files[0];\n        const formData = new FormData();\n        const unsignedUploadPreset = 'e9uuow7f';\n        formData.append('file', selectedFile);\n        formData.append('upload_preset', unsignedUploadPreset);\n        console.log(\"Cloudinary upload\");\n        uploadImageToCloudinaryAPIMethod(formData).then(response => {\n          setProfileUrl(response.url);\n        });\n      }\n    } else if (prop == 'x') {\n      event.preventDefault();\n      props.setShowSignup(false);\n      setError(\"\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signUp\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signUp-content\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"x\",\n              style: {\n                border: 'none',\n                background: 'transparent',\n                justifyContent: 'space-between'\n              },\n              onClick: handleChange(\"x\"),\n              children: \"X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          id: \"name\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0\n            },\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"iName\",\n            name: \"Name\",\n            value: name,\n            style: {\n              width: '100%',\n              alignItems: 'center'\n            },\n            onChange: handleChange(\"name\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          id: \"email\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0\n            },\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"iEmail\",\n            name: \"Email\",\n            value: email,\n            style: {\n              width: '100%',\n              alignItems: 'center'\n            },\n            onChange: handleChange(\"email\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          id: \"password\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0\n            },\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"iPw\",\n            name: \"pw\",\n            value: pw,\n            style: {\n              width: '100%',\n              alignItems: 'center'\n            },\n            onChange: handleChange(\"pw\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          id: \"addr1\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0\n            },\n            children: \"Address 1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"iAddr1\",\n            name: \"addr1\",\n            value: addr1,\n            style: {\n              width: '100%',\n              alignItems: 'center'\n            },\n            onChange: handleChange(\"addr1\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          id: \"addr2\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0\n            },\n            children: \"Address 2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"iAddr2\",\n            name: \"addr2\",\n            value: addr2,\n            style: {\n              width: '100%',\n              alignItems: 'center'\n            },\n            onChange: handleChange(\"addr2\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          id: \"profileUrl\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0\n            },\n            children: \"Profile Url\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"avatar\",\n              src: profileUrl,\n              style: {\n                width: '40px',\n                borderRadius: '50%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"file-upload\",\n              className: \"custom-file-upload\",\n              placeholder: \"Choose New Image\",\n              type: \"file\",\n              name: \"image\",\n              accept: \"image/*\",\n              id: \"cloudinary\",\n              onChange: handleChange(\"profileUrl\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: error ? /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              color: 'red'\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 34\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: testRegister,\n            type: \"submit\",\n            style: {\n              width: '30%',\n              height: '35px',\n              border: 'none',\n              borderRadius: '10px',\n              backgroundColor: 'green',\n              color: '#ffffff'\n            },\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SignUp, \"yhIZctFKNdykW9nY2zcmmXgiFSo=\");\n\n_c = SignUp;\n;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["/Users/guenuk/Documents/GitHub/CSE_316_Final_Project_Client/react-app/src/components/SignUp.js"],"names":["react","useEffect","useState","React","registerUserAPIMethod","uploadImageToCloudinaryAPIMethod","SignUp","props","name","setName","email","setEmail","pw","setPw","addr1","setAddr1","addr2","setAddr2","profileUrl","setProfileUrl","error","setError","testRegister","e","preventDefault","test","user1","then","ret","console","log","setShowSignup","setLogin","handleChange","prop","event","target","value","files","selectedFile","formData","FormData","unsignedUploadPreset","append","response","url","display","justifyContent","border","background","margin","width","alignItems","borderRadius","color","height","backgroundColor"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,qBAAR,EAA+BC,gCAA/B,QAAsE,eAAtE;;;;AAEA,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;AAAA;;AACnB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,EAAhC;AACA,QAAM,CAACQ,KAAD,EAAOC,QAAP,IAAmBT,QAAQ,EAAjC;AACA,QAAM,CAACU,EAAD,EAAIC,KAAJ,IAAaX,QAAQ,EAA3B;AACA,QAAM,CAACY,KAAD,EAAOC,QAAP,IAAmBb,QAAQ,EAAjC;AACA,QAAM,CAACc,KAAD,EAAOC,QAAP,IAAmBf,QAAQ,EAAjC;AACA,QAAM,CAACgB,UAAD,EAAaC,aAAb,IAA8BjB,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACkB,KAAD,EAAQC,QAAR,IAAoBnB,QAAQ,EAAlC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZoB,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACH,GAFQ,EAEP,CAACA,KAAD,CAFO,CAAT;;AAIA,QAAME,YAAY,GAAIC,CAAD,IAAO;AACxBA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAI,kDAAkDC,IAAlD,CAAuDf,KAAvD,CAAJ,EAAmE;AAAE;AACjE,YAAMgB,KAAK,GAAG;AACV,gBAASlB,IADC;AAEV,iBAAUE,KAFA;AAGV,oBAAaE,EAHH;AAIV,oBAAaE,KAJH;AAKV,oBAAaE,KALH;AAMV,uBAAgBE;AANN,OAAd;AAQAd,MAAAA,qBAAqB,CAACsB,KAAD,CAArB,CAA6BC,IAA7B,CAAkCC,GAAG,IAAI;AACrCC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,YAAGA,GAAH,EAAO;AACHrB,UAAAA,KAAK,CAACwB,aAAN,CAAoB,KAApB;AACAxB,UAAAA,KAAK,CAACyB,QAAN,CAAe,IAAf;AACH,SAHD,MAII;AACAX,UAAAA,QAAQ,CAAC,wDAAD,CAAR;AACH;AACJ,OATD;AAUH,KAnBD,MAoBK;AACDA,MAAAA,QAAQ,CAAC,sBAAD,CAAR;AACH;AACJ,GAzBD;;AA4BA,MAAIY,YAAY,GAAIC,IAAD,IAAWC,KAAD,IAAW;AACpC,QAAID,IAAI,KAAK,MAAb,EAAoB;AAChBzB,MAAAA,OAAO,CAAC0B,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP;AACH,KAFD,MAGK,IAAIH,IAAI,KAAK,OAAb,EAAqB;AACtBvB,MAAAA,QAAQ,CAACwB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR;AACH,KAFI,MAGA,IAAIH,IAAI,KAAK,IAAb,EAAkB;AACnBrB,MAAAA,KAAK,CAACsB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAL;AACH,KAFI,MAGA,IAAIH,IAAI,KAAK,OAAb,EAAqB;AACtBnB,MAAAA,QAAQ,CAACoB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR;AACH,KAFI,MAGA,IAAIH,IAAI,KAAK,OAAb,EAAqB;AACtBjB,MAAAA,QAAQ,CAACkB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR;AACH,KAFI,MAGA,IAAIH,IAAI,KAAK,YAAb,EAA0B;AAC3B,UAAIC,KAAK,CAACC,MAAN,CAAaE,KAAb,IAAsBH,KAAK,CAACC,MAAN,CAAaE,KAAb,CAAmB,CAAnB,CAA1B,EAAiD;AAC7C,cAAMC,YAAY,GAAGJ,KAAK,CAACC,MAAN,CAAaE,KAAb,CAAmB,CAAnB,CAArB;AAEA,cAAME,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACA,cAAMC,oBAAoB,GAAG,UAA7B;AACAF,QAAAA,QAAQ,CAACG,MAAT,CAAgB,MAAhB,EAAwBJ,YAAxB;AACAC,QAAAA,QAAQ,CAACG,MAAT,CAAgB,eAAhB,EAAiCD,oBAAjC;AAEAb,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAzB,QAAAA,gCAAgC,CAACmC,QAAD,CAAhC,CAA2Cb,IAA3C,CAAiDiB,QAAD,IAAc;AAC1DzB,UAAAA,aAAa,CAACyB,QAAQ,CAACC,GAAV,CAAb;AACH,SAFD;AAGH;AACJ,KAdI,MAeA,IAAIX,IAAI,IAAG,GAAX,EAAe;AAChBC,MAAAA,KAAK,CAACX,cAAN;AACAjB,MAAAA,KAAK,CAACwB,aAAN,CAAoB,KAApB;AACAV,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACH;AACJ,GApCD;;AAsCA,sBACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,6BACI;AAAA,gCACI;AAAA,iCACI;AAAK,YAAA,KAAK,EAAE;AAACyB,cAAAA,OAAO,EAAE,MAAV;AAAkBC,cAAAA,cAAc,EAAE;AAAlC,aAAZ;AAAA,oCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAQ,cAAA,EAAE,EAAC,GAAX;AAAe,cAAA,KAAK,EAAE;AAACC,gBAAAA,MAAM,EAAE,MAAT;AAAiBC,gBAAAA,UAAU,EAAE,aAA7B;AAA4CF,gBAAAA,cAAc,EAAE;AAA5D,eAAtB;AAAoG,cAAA,OAAO,EAAEd,YAAY,CAAC,GAAD,CAAzH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eAOI;AAAI,UAAA,EAAE,EAAC,MAAP;AAAA,kCACI;AAAG,YAAA,KAAK,EAAE;AAACiB,cAAAA,MAAM,EAAE;AAAT,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,IAAI,EAAC,MAAZ;AACO,YAAA,EAAE,EAAC,OADV;AAEO,YAAA,IAAI,EAAC,MAFZ;AAGO,YAAA,KAAK,EAAI1C,IAHhB;AAIO,YAAA,KAAK,EAAE;AAAC2C,cAAAA,KAAK,EAAE,MAAR;AAAgBC,cAAAA,UAAU,EAAE;AAA5B,aAJd;AAKO,YAAA,QAAQ,EAAEnB,YAAY,CAAC,MAAD;AAL7B;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPJ,eAgBI;AAAI,UAAA,EAAE,EAAC,OAAP;AAAA,kCACI;AAAG,YAAA,KAAK,EAAE;AAACiB,cAAAA,MAAM,EAAE;AAAT,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,IAAI,EAAC,MAAZ;AACO,YAAA,EAAE,EAAC,QADV;AAEO,YAAA,IAAI,EAAC,OAFZ;AAGO,YAAA,KAAK,EAAIxC,KAHhB;AAIO,YAAA,KAAK,EAAE;AAACyC,cAAAA,KAAK,EAAE,MAAR;AAAgBC,cAAAA,UAAU,EAAE;AAA5B,aAJd;AAKO,YAAA,QAAQ,EAAEnB,YAAY,CAAC,OAAD;AAL7B;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhBJ,eAyBI;AAAI,UAAA,EAAE,EAAC,UAAP;AAAA,kCACI;AAAG,YAAA,KAAK,EAAE;AAACiB,cAAAA,MAAM,EAAE;AAAT,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,IAAI,EAAC,MAAZ;AACO,YAAA,EAAE,EAAC,KADV;AAEO,YAAA,IAAI,EAAC,IAFZ;AAGO,YAAA,KAAK,EAAItC,EAHhB;AAIO,YAAA,KAAK,EAAE;AAACuC,cAAAA,KAAK,EAAE,MAAR;AAAgBC,cAAAA,UAAU,EAAE;AAA5B,aAJd;AAKO,YAAA,QAAQ,EAAEnB,YAAY,CAAC,IAAD;AAL7B;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAzBJ,eAmCI;AAAI,UAAA,EAAE,EAAC,OAAP;AAAA,kCACI;AAAG,YAAA,KAAK,EAAE;AAACiB,cAAAA,MAAM,EAAE;AAAT,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,IAAI,EAAC,MAAZ;AACO,YAAA,EAAE,EAAC,QADV;AAEO,YAAA,IAAI,EAAC,OAFZ;AAGO,YAAA,KAAK,EAAIpC,KAHhB;AAIO,YAAA,KAAK,EAAE;AAACqC,cAAAA,KAAK,EAAE,MAAR;AAAgBC,cAAAA,UAAU,EAAE;AAA5B,aAJd;AAKO,YAAA,QAAQ,EAAEnB,YAAY,CAAC,OAAD;AAL7B;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnCJ,eA6CI;AAAI,UAAA,EAAE,EAAC,OAAP;AAAA,kCACI;AAAG,YAAA,KAAK,EAAE;AAACiB,cAAAA,MAAM,EAAE;AAAT,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,IAAI,EAAC,MAAZ;AACO,YAAA,EAAE,EAAC,QADV;AAEO,YAAA,IAAI,EAAC,OAFZ;AAGO,YAAA,KAAK,EAAIlC,KAHhB;AAIO,YAAA,KAAK,EAAE;AAACmC,cAAAA,KAAK,EAAE,MAAR;AAAgBC,cAAAA,UAAU,EAAE;AAA5B,aAJd;AAKO,YAAA,QAAQ,EAAEnB,YAAY,CAAC,OAAD;AAL7B;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBA7CJ,eAuDI;AAAI,UAAA,EAAE,EAAC,YAAP;AAAA,kCACI;AAAG,YAAA,KAAK,EAAE;AAACiB,cAAAA,MAAM,EAAE;AAAT,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA,oCACI;AAAK,cAAA,SAAS,EAAC,QAAf;AACK,cAAA,GAAG,EAAIhC,UADZ;AAEK,cAAA,KAAK,EAAE;AAACiC,gBAAAA,KAAK,EAAE,MAAR;AAAgBE,gBAAAA,YAAY,EAAE;AAA9B;AAFZ;AAAA;AAAA;AAAA;AAAA,oBADJ,eAKI;AAAO,cAAA,EAAE,EAAC,aAAV;AAAwB,cAAA,SAAS,EAAC,oBAAlC;AAAuD,cAAA,WAAW,EAAC,kBAAnE;AAAsF,cAAA,IAAI,EAAC,MAA3F;AAAkG,cAAA,IAAI,EAAC,OAAvG;AAA+G,cAAA,MAAM,EAAC,SAAtH;AAAgI,cAAA,EAAE,EAAC,YAAnI;AAAgJ,cAAA,QAAQ,EAAEpB,YAAY,CAAC,YAAD;AAAtK;AAAA;AAAA;AAAA;AAAA,oBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAvDJ,eAkEI;AAAA,oBACKb,KAAK,gBAAG;AAAO,YAAA,KAAK,EAAI;AAACkC,cAAAA,KAAK,EAAE;AAAR,aAAhB;AAAA,sBAAiClC;AAAjC;AAAA;AAAA;AAAA;AAAA,kBAAH,gBAAqD;AAD/D;AAAA;AAAA;AAAA;AAAA,gBAlEJ,eAqEI;AAAA,iCACI;AAAQ,YAAA,OAAO,EAAEE,YAAjB;AAA+B,YAAA,IAAI,EAAC,QAApC;AAA6C,YAAA,KAAK,EAAE;AAAC6B,cAAAA,KAAK,EAAE,KAAR;AAAeI,cAAAA,MAAM,EAAE,MAAvB;AAA8BP,cAAAA,MAAM,EAAE,MAAtC;AAA8CK,cAAAA,YAAY,EAAE,MAA5D;AAAoEG,cAAAA,eAAe,EAAE,OAArF;AAA6FF,cAAAA,KAAK,EAAE;AAApG,aAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBArEJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AA+EH;;GA9JQhD,M;;KAAAA,M;AA8JR;AACD,eAAeA,MAAf","sourcesContent":["import react, {useEffect, useState} from \"react\";\nimport React from \"react\";\nimport {registerUserAPIMethod, uploadImageToCloudinaryAPIMethod} from \"../api/client\";\n\nfunction SignUp(props) {\n    const [name, setName] = useState();\n    const [email,setEmail] = useState();\n    const [pw,setPw] = useState();\n    const [addr1,setAddr1] = useState();\n    const [addr2,setAddr2] = useState();\n    const [profileUrl, setProfileUrl] = useState(\"\");\n    const [error, setError] = useState();\n\n    useEffect(() => {\n        setError(error);\n    },[error])\n\n    const testRegister = (e) => {\n        e.preventDefault();\n        if (/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/.test(email)) { // email validation\n            const user1 = {\n                \"name\" : name,\n                \"email\" : email,\n                \"password\" : pw,\n                \"address1\" : addr1,\n                \"address2\" : addr2,\n                \"profile_url\" : profileUrl\n            }\n            registerUserAPIMethod(user1).then(ret => {\n                console.log(ret);\n                if(ret){\n                    props.setShowSignup(false);\n                    props.setLogin(true);\n                }\n                else{\n                    setError(\"Invalid information. Properly fill out the information\");\n                }\n            });\n        }\n        else {\n            setError(\"Invalid email format\");\n        }\n    }\n\n\n    let handleChange = (prop) => (event) => {\n        if (prop === \"name\"){\n            setName(event.target.value);\n        }\n        else if (prop === \"email\"){\n            setEmail(event.target.value);\n        }\n        else if (prop === \"pw\"){\n            setPw(event.target.value);\n        }\n        else if (prop === \"addr1\"){\n            setAddr1(event.target.value);\n        }\n        else if (prop === \"addr2\"){\n            setAddr2(event.target.value);\n        }\n        else if (prop === \"profileUrl\"){\n            if (event.target.files && event.target.files[0]) {\n                const selectedFile = event.target.files[0];\n\n                const formData = new FormData();\n                const unsignedUploadPreset = 'e9uuow7f'\n                formData.append('file', selectedFile);\n                formData.append('upload_preset', unsignedUploadPreset);\n\n                console.log(\"Cloudinary upload\");\n                uploadImageToCloudinaryAPIMethod(formData).then((response) => {\n                    setProfileUrl(response.url);\n                });\n            }\n        }\n        else if (prop =='x'){\n            event.preventDefault();\n            props.setShowSignup(false);\n            setError(\"\");\n        }\n    }\n\n    return(\n        <div className=\"signUp\">\n            <div className=\"signUp-content\" >\n                <form>\n                    <li>\n                        <div style={{display: 'flex' ,justifyContent: 'space-between'}}>\n                            <h2>Sign Up</h2>\n                            <button id=\"x\" style={{border: 'none', background: 'transparent', justifyContent: 'space-between'}} onClick={handleChange(\"x\")}>X</button>\n                        </div>\n                    </li>\n                    <li id=\"name\">\n                        <p style={{margin: 0}}>Name</p>\n                        <input type=\"text\"\n                               id=\"iName\"\n                               name=\"Name\"\n                               value = {name}\n                               style={{width: '100%', alignItems: 'center'}}\n                               onChange={handleChange(\"name\")}></input>\n                    </li>\n                    <li id=\"email\">\n                        <p style={{margin: 0}}>Email</p>\n                        <input type=\"text\"\n                               id=\"iEmail\"\n                               name=\"Email\"\n                               value = {email}\n                               style={{width: '100%', alignItems: 'center'}}\n                               onChange={handleChange(\"email\")}></input>\n                    </li>\n                    <li id=\"password\">\n                        <p style={{margin: 0}}>Password</p>\n                        <input type=\"text\"\n                               id=\"iPw\"\n                               name=\"pw\"\n                               value = {pw}\n                               style={{width: '100%', alignItems: 'center'}}\n                               onChange={handleChange(\"pw\")}></input>\n                    </li>\n\n                    <li id=\"addr1\">\n                        <p style={{margin: 0}}>Address 1</p>\n                        <input type=\"text\"\n                               id=\"iAddr1\"\n                               name=\"addr1\"\n                               value = {addr1}\n                               style={{width: '100%', alignItems: 'center'}}\n                               onChange={handleChange(\"addr1\")}></input>\n                    </li>\n\n                    <li id=\"addr2\">\n                        <p style={{margin: 0}}>Address 2</p>\n                        <input type=\"text\"\n                               id=\"iAddr2\"\n                               name=\"addr2\"\n                               value = {addr2}\n                               style={{width: '100%', alignItems: 'center'}}\n                               onChange={handleChange(\"addr2\")}></input>\n                    </li>\n\n                    <li id=\"profileUrl\">\n                        <p style={{margin: 0}}>Profile Url</p>\n                        <div>\n                            <img className=\"avatar\"\n                                 src = {profileUrl}\n                                 style={{width: '40px', borderRadius: '50%'}}\n                            />\n                            <input id=\"file-upload\" className=\"custom-file-upload\" placeholder=\"Choose New Image\" type=\"file\" name=\"image\" accept=\"image/*\" id=\"cloudinary\" onChange={handleChange(\"profileUrl\")}/>\n                        </div>\n                    </li>\n\n                    <li>\n                        {error ? <label style = {{color: 'red'}}>{error}</label> : <></>}\n                    </li>\n                    <li>\n                        <button onClick={testRegister} type=\"submit\" style={{width: '30%', height: '35px',border: 'none', borderRadius: '10px' ,backgroundColor: 'green',color: '#ffffff'}}>Save</button>\n                    </li>\n                </form>\n            </div>\n        </div>\n    )\n};\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}